{"version":3,"sources":["components/Teapot/index.jsx","components/Slider/index.jsx","components/DeleteButton/index.jsx","components/EditableTable/index.jsx","reducers/teaTableReducer.js","components/TeaSelect/index.jsx","components/AddButton/index.jsx","utils/localStorageUtils.js","App.js","reportWebVitals.js","index.js"],"names":["Wrapper","styled","div","TeapotIcon","TeapotWater","amount","max","ScaleWrapper","ScaleText","Teapot","parseInt","Slider","min","step","value","setValue","type","onChange","e","target","Circle","Mark","DeleteButton","remainProps","StyledTable","table","TableHeader","th","align","TableHeaderRow","tr","StyledTd","td","DeleteTd","StyledInput","input","EditableTable","data","onDelete","dispatch","useDispatch","columns","map","column","label","id","sort","a","b","row","rowId","columnId","targetRowData","find","payload","onClick","initialState","tableData","teaTableReducer","state","action","newTableData","filter","newDataId","Math","isFinite","waterAmount","teaLeafId","targetTableData","lastWaterAmount","StyledSelect","select","TeaSelect","teaList","leafName","leafAmount","tea","AddButton","LOCALSTORAGE_KEY","Root","TeapotWrapper","TableWrapper","StyledAddButton","AmountWrapper","TeaLeafAmount","WaterAmount","Page","useState","setWaterAmount","setTeaLeafId","teaLeafAmount","setTeaLeafAmount","useSelector","useEffect","targetTeaLeaf","calcTeaLeafAmount","length","localStorage","setItem","JSON","stringify","isNaN","getItem","parse","readFromLocalStorage","v","round","App","store","createStore","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.170996a7.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst TeapotIcon = styled.div`\r\n  width: 100px;\r\n  height: 150px;\r\n  border-radius: 5px 5px 20px 20px;\r\n  border: 4px solid black;\r\n  display: flex;\r\n  align-items: end;\r\n`;\r\n\r\nconst TeapotWater = styled.div`\r\n  width: 100%;\r\n  background: #70f1ff;\r\n  border-radius: 1px 1px 15px 15px;\r\n  height: ${({amount, max}) => (amount/max)*100}%;\r\n  z-index: -1;\r\n`;\r\n\r\nconst ScaleWrapper = styled.div`\r\n  height: 170px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: end;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst ScaleText = styled.div`\r\n  position: relative;\r\n  left: -9px;\r\n  font-weight: bold;\r\n`;\r\n\r\nconst Teapot = ({\r\n  max,\r\n  amount,\r\n}) => {\r\n  return (\r\n    <Wrapper>\r\n      <TeapotIcon>\r\n        <TeapotWater max={parseInt(max)} amount={parseInt(amount)}/>\r\n      </TeapotIcon>\r\n      <ScaleWrapper>\r\n          <ScaleText> {max||100}</ScaleText>\r\n          <ScaleText>- {(max||100)/4*3}</ScaleText>\r\n          <ScaleText>- {(max||100)/2}</ScaleText>\r\n          <ScaleText>- {(max||100)/4*1}</ScaleText>\r\n          <ScaleText> 0</ScaleText>\r\n        </ScaleWrapper>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Teapot;","import styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.div`\r\n  margin-left: 20px;\r\n  transform: rotate(-90deg);\r\n`;\r\n\r\nconst Slider = ({\r\n  min = 0,\r\n  max = 100,\r\n  step = 10,\r\n  value,\r\n  setValue = () => null,\r\n}) => {\r\n  const onChange = (e) => {\r\n    setValue(e.target.value);\r\n  }\r\n  return (\r\n    <Wrapper>\r\n      <input\r\n        type=\"range\"\r\n        min={min}\r\n        max={max||100}\r\n        value={value}\r\n        step={step}\r\n        onChange={onChange}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Slider;","import styled from \"styled-components\";\r\n\r\nconst Circle = styled.div`\r\n  width: 24px;\r\n  height: 24px;\r\n  border-radius: 100px;\r\n  :hover {\r\n    background: #ff0f0f;\r\n    div {\r\n      color: white;\r\n    }\r\n  }\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n`;\r\n\r\nconst Mark = styled.div`\r\n  font-size: 20px;\r\n`;\r\n\r\nconst DeleteButton = ({...remainProps}) => {\r\n  return (\r\n    <Circle {...remainProps}>\r\n      <Mark>🗑</Mark>\r\n    </Circle>\r\n  );\r\n};\r\n\r\nexport default DeleteButton;","import { useDispatch } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport DeleteButton from \"../DeleteButton\";\r\n\r\nconst StyledTable = styled.table`\r\n  border-collapse: collapse;\r\n  border-spacing: 0;\r\n`;\r\n\r\nconst TableHeader = styled.th`\r\n  text-align: ${({align}) => (align || 'start')};\r\n  padding: 0 16px;\r\n`;\r\n\r\nconst TableHeaderRow = styled.tr`\r\n  background: #a0a0a0;\r\n`;\r\n\r\nconst StyledTd = styled.td`\r\n  border-bottom 1px solid #a0a0a0;\r\n  padding: 0 8px;\r\n`;\r\n\r\nconst DeleteTd = styled.td`\r\n  border-bottom 1px solid #a0a0a0;\r\n  padding: 0 8px 0 16px;\r\n`;\r\n\r\nconst StyledInput = styled.input`\r\n  border: none;\r\n  text-align: ${({align}) => (align || 'start')};\r\n  width: 100%;\r\n`;\r\n\r\nconst EditableTable = ({ data, onDelete }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const onChange = ({\r\n    rowId,\r\n    columnId,\r\n    value,\r\n  }) => {\r\n    const targetRowData = data.data.find(({id}) => id === rowId);\r\n    dispatch({\r\n      type: 'UPDATE_DATA',\r\n      payload: {\r\n        data: {\r\n          ...targetRowData,\r\n          id: rowId,\r\n          [columnId]: value,\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  if (!data || !data.columns) {\r\n    return null;\r\n  }\r\n  return (\r\n    <StyledTable>\r\n      <thead>\r\n        <TableHeaderRow>\r\n          {data.columns.map((column) => (\r\n            <TableHeader key={column.id} align={column.align}>{column.label}</TableHeader>\r\n          ))}\r\n          <th></th>\r\n        </TableHeaderRow>\r\n      </thead>\r\n      <tbody>\r\n        {data.data.sort((a, b) => a.id - b.id).map((row) => (\r\n          <tr key={row.id}>\r\n            {data.columns.map((column) => (\r\n              <StyledTd\r\n                key={column.id}\r\n                align={column.align}\r\n              >\r\n                <StyledInput\r\n                  value={row[column.id]}\r\n                  align={column.align}\r\n                  type={column.type || 'text'}\r\n                  min={1}\r\n                  onChange={(e) => onChange({\r\n                    rowId: row.id,\r\n                    columnId: column.id,\r\n                    value: e.target.value,\r\n                  })}\r\n                />\r\n              </StyledTd>\r\n            ))}\r\n            <DeleteTd>\r\n              <DeleteButton onClick={() => onDelete(row.id)} />\r\n            </DeleteTd>\r\n          </tr> \r\n        ))}\r\n      </tbody>\r\n    </StyledTable>\r\n  );\r\n};\r\n\r\nexport default EditableTable;","const initialState = {\r\n  tableData: {\r\n    columns: [],\r\n    data: [],\r\n  }\r\n};\r\n\r\nconst teaTableReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'INIT': {\r\n      return {\r\n        ...state,\r\n        tableData: {\r\n          ...action.payload,\r\n        },\r\n      };\r\n    }\r\n    case 'UPDATE_DATA': {\r\n      const { data } = action.payload;\r\n      const newTableData = state.tableData.data.filter(({ id }) => id !== data.id);\r\n      return {\r\n        ...state,\r\n        tableData: {\r\n          columns: state.tableData.columns,\r\n          data: [\r\n            ...newTableData,\r\n            data,\r\n          ],\r\n        },\r\n      };\r\n    }\r\n    case 'ADD_DATA': {\r\n      const { data } = action.payload;\r\n      let newDataId = Math.max(...state.tableData.data.map(({ id }) => id)) + 1;\r\n      if (!isFinite(newDataId)) {\r\n        newDataId = 0;\r\n      }\r\n      return {\r\n        ...state,\r\n        tableData: {\r\n          ...state.tableData,\r\n          data: [\r\n            ...state.tableData.data,\r\n            {\r\n              ...data,\r\n              id: newDataId,\r\n            },\r\n          ],\r\n        }\r\n      }\r\n    };\r\n    case 'DELETE_DATA': {\r\n      const { rowId } = action.payload;\r\n      const newTableData = state.tableData.data.filter(({ id }) => id !== rowId);\r\n      return {\r\n        ...state,\r\n        tableData: {\r\n          columns: state.tableData.columns,\r\n          data: [\r\n            ...newTableData,\r\n          ],\r\n        },\r\n      };\r\n    }\r\n    case 'UPDATE_LAST_WATER_AMOUNT': {\r\n      const { waterAmount, teaLeafId } = action.payload;\r\n      const targetTableData = state.tableData.data.find(({ id }) => id == teaLeafId);\r\n      const newTableData = state.tableData.data.filter(({ id }) => id != teaLeafId);\r\n      return {\r\n        ...state,\r\n        tableData: {\r\n          columns: state.tableData.columns,\r\n          data: [\r\n            ...newTableData,\r\n            {\r\n              ...targetTableData,\r\n              lastWaterAmount: waterAmount,\r\n            },\r\n          ],\r\n        },\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default teaTableReducer;","import styled from \"styled-components\";\r\n\r\nconst StyledSelect = styled.select`\r\n  border: 2px solid;\r\n`;\r\n\r\nconst TeaSelect = ({\r\n  teaList,\r\n  onChange,\r\n}) => {\r\n  return (\r\n    <StyledSelect onChange={onChange}>\r\n      {teaList.filter((row) => {\r\n        return row.leafName && row.leafAmount && row.waterAmount;\r\n      }).map((tea) => {\r\n        return <option key={tea.id} value={tea.id}>{tea.leafName}</option>\r\n      })}\r\n    </StyledSelect>\r\n  )\r\n};\r\n\r\nexport default TeaSelect;","import styled from \"styled-components\";\r\n\r\nconst Circle = styled.div`\r\n  width: 24px;\r\n  height: 24px;\r\n  border-radius: 100px;\r\n  border: 1px solid #a0a0a0;\r\n  :hover {\r\n    background: #ff3a00;\r\n    border: 1px solid #ff3a00;\r\n    div {\r\n      color: white;\r\n    }\r\n  }\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst Mark = styled.div`\r\n  font-size: 24px;\r\n`;\r\n\r\nconst AddButton = ({\r\n  ...remainProps\r\n}) => {\r\n  return (\r\n    <Circle {...remainProps}>\r\n      <Mark>＋</Mark>\r\n    </Circle>\r\n  )\r\n};\r\n\r\nexport default AddButton;","const LOCALSTORAGE_KEY = 'teaLeafSettings';\r\n\r\nexport const readFromLocalStorage = () => {\r\n  const data = localStorage.getItem(LOCALSTORAGE_KEY);\r\n  return JSON.parse(data);\r\n};\r\n\r\nexport const writeToLocalStorage = (data) => {\r\n  localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(data));\r\n};","import './App.css';\nimport Teapot from './components/Teapot';\nimport Slider from './components/Slider';\nimport { useState } from 'react';\nimport { createStore } from 'redux'\nimport styled from 'styled-components';\nimport EditableTable from './components/EditableTable';\nimport teaTableReducer from './reducers/teaTableReducer';\nimport { Provider, useDispatch, useSelector } from 'react-redux';\nimport { useEffect } from 'react';\nimport TeaSelect from './components/TeaSelect';\nimport AddButton from './components/AddButton';\nimport { readFromLocalStorage, writeToLocalStorage } from './utils/localStorageUtils';\n\nconst Root = styled.div`\n  margin: 8px 16px;\n`;\n\nconst TeapotWrapper = styled.div`\n  display: flex;\n`;\n\nconst TableWrapper = styled.div`\n  max-width: 580px;\n`;\n\nconst StyledAddButton = styled(AddButton)`\n  margin: 0 8px 4px auto;\n`;\n\nconst AmountWrapper = styled.div`\n  position: absolute;\n  left: 240px;\n  top: 50px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst TeaLeafAmount = styled.div`\n  font-weight: bold;\n  font-size 36px;\n  margin-bottom: 8px;\n`;\n\nconst WaterAmount = styled.div`\n  font-weight: bold;\n  font-size 36px;\n  border-top: 4px solid black;\n`;\n\nconst App = () => {\n  const store = createStore(teaTableReducer);\n  return (\n    <Provider store={store}>\n      <Page />\n    </Provider>\n  );\n};\n\nconst Page = () => {\n  const max = 400;\n  const min = 0;\n  const [waterAmount, setWaterAmount] = useState(50);\n  const [teaLeafId, setTeaLeafId] = useState(null);\n  const [teaLeafAmount, setTeaLeafAmount] = useState(0);\n\n  const { tableData } = useSelector((state) => state);\n\n  const teaList = tableData.data.sort((a, b) => a.id - b.id);\n\n  const dispatch = useDispatch();\n\n  const calcTeaLeafAmount = () => {\n    const targetTeaLeaf = tableData.data.find(({ id }) => id == teaLeafId);\n    if (!targetTeaLeaf) {\n      return 0;\n    }\n    return (targetTeaLeaf.leafAmount / targetTeaLeaf.waterAmount) * waterAmount;\n  };\n\n  const addBlankRow = () => {\n    dispatch({\n      type: 'ADD_DATA',\n      payload: {\n        leafName: '',\n        leafAmount: 0,\n        waterAmount: 0,\n      }\n    });\n  };\n\n  const onDeleteRow = (rowId) => {\n    dispatch({\n      type: 'DELETE_DATA',\n      payload: {rowId},\n    });\n  };\n\n  useEffect(() => {\n    setTeaLeafAmount(calcTeaLeafAmount());\n  }, [waterAmount, teaLeafId, tableData]);\n\n  useEffect(() => {\n    if (teaList.length && !teaList.find(({id}) => id == teaLeafId)) {\n      setTeaLeafId(teaList[0].id);\n    } else {\n      if (!teaList.length)\n      setTeaLeafId(null);\n    }\n    if (tableData && tableData.data.length) {\n      writeToLocalStorage(tableData);\n    }\n  }, [tableData]);\n\n  useEffect(() => {\n    if (waterAmount && !isNaN(teaLeafId)) {\n      dispatch({\n        type: 'UPDATE_LAST_WATER_AMOUNT',\n        payload: { waterAmount, teaLeafId }\n      });\n    }\n  }, [waterAmount]);\n\n  useEffect(() => {\n    const target = tableData.data.find(({id}) => id == teaLeafId);\n    if (target && target.lastWaterAmount) {\n      setWaterAmount(target.lastWaterAmount);\n    }\n  }, [teaLeafId]);\n\n  useEffect(() => {\n    const data = readFromLocalStorage();\n    dispatch({\n      type: 'INIT',\n      payload: {\n        columns: [\n          { id: 'leafName', label: '茶葉', align: 'center' },\n          { id: 'leafAmount', label: '茶葉の量 [g]', align: 'right', type: 'number' },\n          { id: 'waterAmount', label: '水の量 [mL]', align: 'right', type: 'number' },\n        ],\n        data: data ? data.data : [],\n      },\n    })\n  }, []);\n\n  return (\n    <Root>\n      <TeaSelect teaList={teaList} onChange={(e) => setTeaLeafId(e.target.value)} />\n      <TeapotWrapper>\n        <Teapot max={max} amount={waterAmount} />\n        <Slider min={min} max={max} value={waterAmount} setValue={(v) => setWaterAmount(v)} />\n        <AmountWrapper>\n          <TeaLeafAmount>{isNaN(teaLeafAmount) || !teaLeafAmount ? ' - ' : Math.round(teaLeafAmount)}g</TeaLeafAmount>\n          <WaterAmount>{waterAmount}mL</WaterAmount>\n        </AmountWrapper>\n      </TeapotWrapper>\n      <TableWrapper>\n        <StyledAddButton onClick={addBlankRow}>a</StyledAddButton>\n        <EditableTable data={tableData} onDelete={onDeleteRow} />\n      </TableWrapper>\n    </Root>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}