(this["webpackJsonpteapot-calculator"]=this["webpackJsonpteapot-calculator"]||[]).push([[0],{26:function(t,e,n){},27:function(t,e,n){},39:function(t,e,n){"use strict";n.r(e);var a,c,i,r,o,d,l,b,u,s,j,f,O,p,x,h,m,g,v,y,w,A,D,T,I,E=n(0),k=n.n(E),L=n(8),S=n.n(L),N=(n(26),n(11)),_=n(2),C=(n(27),n(3)),M=n(1),W=C.a.div(a||(a=Object(_.a)(["\n  height: 60vw;\n  max-height: 300px;\n  display: flex;\n  align-items: center;\n"]))),z=C.a.div(c||(c=Object(_.a)(["\n  width: 40vw;\n  max-width: 200px;\n  height: 100%;\n  border-radius: 5px 5px 20px 20px;\n  border: 4px solid black;\n  border-top: none;\n  display: flex;\n  align-items: flex-end;\n  justify-content: center;\n"]))),P=C.a.div(i||(i=Object(_.a)(["\n  width: 100%;\n  background: rgba(112, 241, 255, 0.4);\n  border-radius: 1px 1px 15px 15px;\n  height: ","%;\n  z-index: -1;\n  // transition: height 0.2s;\n"])),(function(t){return t.amount/t.max*100})),R=C.a.div(r||(r=Object(_.a)(["\n  height: 110%;\n  display: flex;\n  flex-direction: column;\n  align-items: end;\n  justify-content: space-between;\n"]))),U=C.a.div(o||(o=Object(_.a)(["\n  position: relative;\n  font-weight: bold;\n  white-space: pre-wrap;\n"]))),F=C.a.div(d||(d=Object(_.a)(["\n  display: flex;\n  height: 60vw;\n  max-height: 300px;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  z-index: -2;\n  position: absolute;\n"]))),J=C.a.div(l||(l=Object(_.a)(["\n  font-weight: bold;\n  font-size 36px;\n  margin-bottom: 8px;\n"]))),B=C.a.div(b||(b=Object(_.a)(["\n  font-weight: bold;\n  font-size 36px;\n  border-top: 4px solid black;\n"]))),Y=function(t){var e=t.max,n=t.amountOfWater,a=t.amountOfTeaLeaf,c=t.onClick,i=function(t){if("mousemove"!==t.type&&"touchmove"!==t.type||0!==t.buttons){var n=t.target.offsetHeight,a=(t.clientY||t.changedTouches[0].clientY)-t.target.offsetTop;if(a<=4)c(e);else if(a>=n-4)c(0);else{var i=1-a/n,r=10*Math.round(i*e/10);c(r)}}};return Object(M.jsxs)(W,{children:[Object(M.jsxs)(z,{onClick:i,onMouseMove:i,onTouchMove:i,children:[Object(M.jsx)(P,{max:parseInt(e),amount:parseInt(n)}),Object(M.jsxs)(F,{children:[Object(M.jsxs)(J,{children:[isNaN(a)||!a?" - ":Math.round(10*a)/10,"g"]}),Object(M.jsxs)(B,{children:[n,"mL"]})]})]}),Object(M.jsxs)(R,{children:[Object(M.jsx)(U,{children:e||100}),Object(M.jsx)(U,{children:(e||100)/4*3}),Object(M.jsx)(U,{children:(e||100)/2}),Object(M.jsx)(U,{children:(e||100)/4*1}),Object(M.jsx)(U,{children:" 0"})]})]})},H=(C.a.div(u||(u=Object(_.a)(["\n  display: flex;\n  margin-left: -30px;\n  align-items: center;\n"]))),C.a.input(s||(s=Object(_.a)(["\n  transform: rotate(-90deg) scale(2);\n  width: 30vw;\n  max-width: 150px;\n"]))),n(21)),q=n(10),G=n(4),K=n(5),Q=C.a.div(j||(j=Object(_.a)(["\n  width: 24px;\n  height: 24px;\n  border-radius: 100px;\n  :hover {\n    background: #ff0f0f;\n    div {\n      color: white;\n    }\n  }\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n"]))),V=C.a.div(f||(f=Object(_.a)(["\n  font-size: 20px;\n"]))),X=function(t){var e=Object.assign({},t);return Object(M.jsx)(Q,Object(G.a)(Object(G.a)({},e),{},{children:Object(M.jsx)(V,{children:"\ud83d\uddd1"})}))},Z=C.a.table(O||(O=Object(_.a)(["\n  border-collapse: collapse;\n  border-spacing: 0;\n"]))),$=C.a.th(p||(p=Object(_.a)(["\n  text-align: ",";\n  padding: 0 16px;\n"])),(function(t){return t.align||"start"})),tt=C.a.tr(x||(x=Object(_.a)(["\n  background: #a0a0a0;\n"]))),et=C.a.td(h||(h=Object(_.a)(["\n  border-bottom 1px solid #a0a0a0;\n  padding: 0 8px;\n"]))),nt=C.a.td(m||(m=Object(_.a)(["\n  border-bottom 1px solid #a0a0a0;\n  padding: 0 8px 0 16px;\n"]))),at=C.a.input(g||(g=Object(_.a)(["\n  border: none;\n  text-align: ",";\n  width: 100%;\n"])),(function(t){return t.align||"start"})),ct=function(t){var e=t.data,n=t.onDelete,a=t.onSelectRow,c=t.selectedRowId,i=Object(K.b)();return e&&e.columns?Object(M.jsxs)(Z,{children:[Object(M.jsx)("thead",{children:Object(M.jsxs)(tt,{children:[Object(M.jsx)("th",{children:"\u2713"}),e.columns.map((function(t){return Object(M.jsx)($,{align:t.align,children:t.label},t.id)})),Object(M.jsx)("th",{})]})}),Object(M.jsx)("tbody",{children:e.data.sort((function(t,e){return t.id-e.id})).map((function(t){return Object(M.jsxs)("tr",{children:[Object(M.jsx)(et,{onClick:function(){return a(t.id)},children:t.leafName&&t.leafAmount&&t.waterAmount&&Object(M.jsx)("input",{type:"radio",checked:c==t.id})}),e.columns.map((function(n){return Object(M.jsx)(et,{align:n.align,children:Object(M.jsx)(at,{value:t[n.id],align:n.align,type:n.type||"text",min:1,onChange:function(a){return function(t){var n=t.rowId,a=t.columnId,c=t.value,r=e.data.find((function(t){return t.id===n}));i({type:"UPDATE_DATA",payload:{data:Object(G.a)(Object(G.a)({},r),{},Object(q.a)({id:n},a,c))}})}({rowId:t.id,columnId:n.id,value:a.target.value})}})},n.id)})),Object(M.jsx)(nt,{children:Object(M.jsx)(X,{onClick:function(){return n(t.id)}})})]},t.id)}))})]}):null},it=n(6),rt={tableData:{columns:[],data:[]}},ot=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"INIT":return Object(G.a)(Object(G.a)({},t),{},{tableData:Object(G.a)({},e.payload)});case"UPDATE_DATA":var n=e.payload.data,a=t.tableData.data.filter((function(t){return t.id!==n.id}));return Object(G.a)(Object(G.a)({},t),{},{tableData:{columns:t.tableData.columns,data:[].concat(Object(it.a)(a),[n])}});case"ADD_DATA":var c=e.payload.data,i=Math.max.apply(Math,Object(it.a)(t.tableData.data.map((function(t){return t.id}))))+1;return isFinite(i)||(i=0),Object(G.a)(Object(G.a)({},t),{},{tableData:Object(G.a)(Object(G.a)({},t.tableData),{},{data:[].concat(Object(it.a)(t.tableData.data),[Object(G.a)(Object(G.a)({},c),{},{id:i})])})});case"DELETE_DATA":var r=e.payload.rowId,o=t.tableData.data.filter((function(t){return t.id!==r}));return Object(G.a)(Object(G.a)({},t),{},{tableData:{columns:t.tableData.columns,data:Object(it.a)(o)}});case"UPDATE_LAST_WATER_AMOUNT":var d=e.payload,l=d.waterAmount,b=d.teaLeafId,u=t.tableData.data.find((function(t){return t.id==b})),s=t.tableData.data.filter((function(t){return t.id!=b}));return Object(G.a)(Object(G.a)({},t),{},{tableData:{columns:t.tableData.columns,data:[].concat(Object(it.a)(s),[Object(G.a)(Object(G.a)({},u),{},{lastWaterAmount:l})])}});default:return t}},dt=(C.a.select(v||(v=Object(_.a)(["\n  border: 2px solid;\n  border-radius: 4px;\n  height: 40px;\n  min-width: 120px;\n"]))),C.a.div(y||(y=Object(_.a)(["\n  width: 24px;\n  height: 24px;\n  border-radius: 100px;\n  border: 1px solid #a0a0a0;\n  :hover {\n    background: #ff3a00;\n    border: 1px solid #ff3a00;\n    div {\n      color: white;\n    }\n  }\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])))),lt=C.a.div(w||(w=Object(_.a)(["\n  font-size: 24px;\n"]))),bt=function(t){var e=Object.assign({},t);return Object(M.jsx)(dt,Object(G.a)(Object(G.a)({},e),{},{children:Object(M.jsx)(lt,{children:"\uff0b"})}))},ut="teaLeafSettings",st=C.a.div(A||(A=Object(_.a)(["\n  margin: 8px 16px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),jt=C.a.div(D||(D=Object(_.a)(["\n  display: flex;\n  margin: 16px 0 0 22px;\n"]))),ft=C.a.div(T||(T=Object(_.a)(["\n  max-width: 580px;\n"]))),Ot=Object(C.a)(bt)(I||(I=Object(_.a)(["\n  margin: 0 8px 4px auto;\n"]))),pt=function(){var t=Object(E.useState)(50),e=Object(N.a)(t,2),n=e[0],a=e[1],c=Object(E.useState)(null),i=Object(N.a)(c,2),r=i[0],o=i[1],d=Object(E.useState)(0),l=Object(N.a)(d,2),b=l[0],u=l[1],s=Object(K.c)((function(t){return t})).tableData,j=s.data.sort((function(t,e){return t.id-e.id})),f=Object(K.b)();Object(E.useEffect)((function(){u(function(){var t=s.data.find((function(t){return t.id==r}));return t?t.leafAmount/t.waterAmount*n:0}())}),[n,r,s]),Object(E.useEffect)((function(){var t;j.length&&!j.find((function(t){return t.id==r}))?o(j[0].id):j.length||o(null),s&&s.data.length&&(t=s,localStorage.setItem(ut,JSON.stringify(t)))}),[s]),Object(E.useEffect)((function(){n&&!isNaN(r)&&f({type:"UPDATE_LAST_WATER_AMOUNT",payload:{waterAmount:n,teaLeafId:r}})}),[n]),Object(E.useEffect)((function(){var t=s.data.find((function(t){return t.id==r}));t&&t.lastWaterAmount&&a(t.lastWaterAmount)}),[r]),Object(E.useEffect)((function(){var t=function(){var t=localStorage.getItem(ut);return JSON.parse(t)}();f({type:"INIT",payload:{columns:[{id:"leafName",label:"\u8336\u8449",align:"center"},{id:"leafAmount",label:"\u8336\u8449\u306e\u91cf [g]",align:"right",type:"number"},{id:"waterAmount",label:"\u6c34\u306e\u91cf [mL]",align:"right",type:"number"}],data:t?t.data:[]}}),document.addEventListener("touchmove",(function(t){return t.preventDefault()}),{passive:!1})}),[]);return Object(M.jsxs)(st,{children:[Object(M.jsx)(jt,{children:Object(M.jsx)(Y,{max:400,amountOfWater:n,amountOfTeaLeaf:b,onClick:a})}),Object(M.jsxs)(ft,{children:[Object(M.jsx)(Ot,{onClick:function(){f({type:"ADD_DATA",payload:{leafName:"",leafAmount:0,waterAmount:0}})},children:"a"}),Object(M.jsx)(ct,{data:s,onDelete:function(t){f({type:"DELETE_DATA",payload:{rowId:t}})},selectedRowId:r,onSelectRow:function(t){o(t)}})]})]})},xt=function(){var t=Object(H.a)(ot);return Object(M.jsx)(K.a,{store:t,children:Object(M.jsx)(pt,{})})},ht=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,i=e.getLCP,r=e.getTTFB;n(t),a(t),c(t),i(t),r(t)}))};S.a.render(Object(M.jsx)(k.a.StrictMode,{children:Object(M.jsx)(xt,{})}),document.getElementById("root")),ht()}},[[39,1,2]]]);
//# sourceMappingURL=main.310ebe44.chunk.js.map