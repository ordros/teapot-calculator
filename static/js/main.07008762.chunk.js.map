{"version":3,"sources":["components/Teapot/index.jsx","components/Slider/index.jsx","components/DeleteButton/index.jsx","components/EditableTable/index.jsx","reducers/teaTableReducer.js","components/TeaSelect/index.jsx","components/AddButton/index.jsx","utils/localStorageUtils.js","App.js","reportWebVitals.js","index.js"],"names":["Wrapper","styled","div","TeapotIcon","TeapotWater","amount","max","ScaleWrapper","ScaleText","Teapot","onClick","e","console","log","elementHeight","target","offsetHeight","yPos","clientY","offsetTop","rate","value","Math","round","parseInt","SliderInput","input","Slider","min","step","setValue","type","onChange","Circle","Mark","DeleteButton","remainProps","StyledTable","table","TableHeader","th","align","TableHeaderRow","tr","StyledTd","td","DeleteTd","StyledInput","EditableTable","data","onDelete","dispatch","useDispatch","columns","map","column","label","id","sort","a","b","row","rowId","columnId","targetRowData","find","payload","initialState","tableData","teaTableReducer","state","action","newTableData","filter","newDataId","isFinite","waterAmount","teaLeafId","targetTableData","lastWaterAmount","StyledSelect","select","TeaSelect","teaList","leafName","leafAmount","tea","AddButton","LOCALSTORAGE_KEY","Root","TeapotWrapper","TableWrapper","StyledAddButton","AmountWrapper","TeaLeafAmount","WaterAmount","Page","useState","setWaterAmount","setTeaLeafId","teaLeafAmount","setTeaLeafAmount","useSelector","useEffect","targetTeaLeaf","calcTeaLeafAmount","length","localStorage","setItem","JSON","stringify","isNaN","getItem","parse","readFromLocalStorage","v","App","store","createStore","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.07008762.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.div`\r\n  height: 30vw;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst TeapotIcon = styled.div`\r\n  width: 20vw;\r\n  height: 100%;\r\n  border-radius: 5px 5px 20px 20px;\r\n  border: 4px solid black;\r\n  display: flex;\r\n  align-items: flex-end;\r\n`;\r\n\r\nconst TeapotWater = styled.div`\r\n  width: 100%;\r\n  background: #70f1ff;\r\n  border-radius: 1px 1px 15px 15px;\r\n  height: ${({amount, max}) => (amount/max)*100}%;\r\n  z-index: -1;\r\n`;\r\n\r\nconst ScaleWrapper = styled.div`\r\n  height: 115%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: end;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst ScaleText = styled.div`\r\n  position: relative;\r\n  left: -9px;\r\n  font-weight: bold;\r\n  white-space: pre-wrap;\r\n`;\r\n\r\nconst Teapot = ({\r\n  max,\r\n  amount,\r\n  onClick,\r\n}) => {\r\n  const onClickIcon = (e) => {\r\n    console.log(e);\r\n    const elementHeight = e.target.offsetHeight;\r\n    const yPos = e.clientY - e.target.offsetTop;\r\n    if (yPos <= 4) {\r\n      onClick(max);\r\n    } else if (yPos >= elementHeight - 4) {\r\n      onClick(0);\r\n    } else {\r\n      const rate = 1 - (yPos / elementHeight);\r\n      const value = Math.round((rate * max) / 10) * 10;\r\n      onClick(value);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      <TeapotIcon onClick={onClickIcon}>\r\n        <TeapotWater max={parseInt(max)} amount={parseInt(amount)} />\r\n      </TeapotIcon>\r\n      <ScaleWrapper>\r\n          <ScaleText> {max||100}</ScaleText>\r\n          <ScaleText>- {(max||100)/4*3}</ScaleText>\r\n          <ScaleText>- {(max||100)/2}</ScaleText>\r\n          <ScaleText>- {(max||100)/4*1}</ScaleText>\r\n          <ScaleText> 0</ScaleText>\r\n        </ScaleWrapper>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Teapot;","import styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  margin-left: -50px;\r\n`;\r\n\r\nconst SliderInput = styled.input`\r\n  transform: rotate(-90deg);\r\n`;\r\n\r\nconst Slider = ({\r\n  min = 0,\r\n  max = 100,\r\n  step = 10,\r\n  value,\r\n  setValue = () => null,\r\n}) => {\r\n  const onChange = (e) => {\r\n    setValue(e.target.value);\r\n  }\r\n  return (\r\n    <Wrapper>\r\n      <SliderInput\r\n        type=\"range\"\r\n        min={min}\r\n        max={max||100}\r\n        value={value}\r\n        step={step}\r\n        onChange={onChange}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Slider;","import styled from \"styled-components\";\r\n\r\nconst Circle = styled.div`\r\n  width: 24px;\r\n  height: 24px;\r\n  border-radius: 100px;\r\n  :hover {\r\n    background: #ff0f0f;\r\n    div {\r\n      color: white;\r\n    }\r\n  }\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n`;\r\n\r\nconst Mark = styled.div`\r\n  font-size: 20px;\r\n`;\r\n\r\nconst DeleteButton = ({...remainProps}) => {\r\n  return (\r\n    <Circle {...remainProps}>\r\n      <Mark>🗑</Mark>\r\n    </Circle>\r\n  );\r\n};\r\n\r\nexport default DeleteButton;","import { useDispatch } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport DeleteButton from \"../DeleteButton\";\r\n\r\nconst StyledTable = styled.table`\r\n  border-collapse: collapse;\r\n  border-spacing: 0;\r\n`;\r\n\r\nconst TableHeader = styled.th`\r\n  text-align: ${({align}) => (align || 'start')};\r\n  padding: 0 16px;\r\n`;\r\n\r\nconst TableHeaderRow = styled.tr`\r\n  background: #a0a0a0;\r\n`;\r\n\r\nconst StyledTd = styled.td`\r\n  border-bottom 1px solid #a0a0a0;\r\n  padding: 0 8px;\r\n`;\r\n\r\nconst DeleteTd = styled.td`\r\n  border-bottom 1px solid #a0a0a0;\r\n  padding: 0 8px 0 16px;\r\n`;\r\n\r\nconst StyledInput = styled.input`\r\n  border: none;\r\n  text-align: ${({align}) => (align || 'start')};\r\n  width: 100%;\r\n`;\r\n\r\nconst EditableTable = ({ data, onDelete }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const onChange = ({\r\n    rowId,\r\n    columnId,\r\n    value,\r\n  }) => {\r\n    const targetRowData = data.data.find(({id}) => id === rowId);\r\n    dispatch({\r\n      type: 'UPDATE_DATA',\r\n      payload: {\r\n        data: {\r\n          ...targetRowData,\r\n          id: rowId,\r\n          [columnId]: value,\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  if (!data || !data.columns) {\r\n    return null;\r\n  }\r\n  return (\r\n    <StyledTable>\r\n      <thead>\r\n        <TableHeaderRow>\r\n          {data.columns.map((column) => (\r\n            <TableHeader key={column.id} align={column.align}>{column.label}</TableHeader>\r\n          ))}\r\n          <th></th>\r\n        </TableHeaderRow>\r\n      </thead>\r\n      <tbody>\r\n        {data.data.sort((a, b) => a.id - b.id).map((row) => (\r\n          <tr key={row.id}>\r\n            {data.columns.map((column) => (\r\n              <StyledTd\r\n                key={column.id}\r\n                align={column.align}\r\n              >\r\n                <StyledInput\r\n                  value={row[column.id]}\r\n                  align={column.align}\r\n                  type={column.type || 'text'}\r\n                  min={1}\r\n                  onChange={(e) => onChange({\r\n                    rowId: row.id,\r\n                    columnId: column.id,\r\n                    value: e.target.value,\r\n                  })}\r\n                />\r\n              </StyledTd>\r\n            ))}\r\n            <DeleteTd>\r\n              <DeleteButton onClick={() => onDelete(row.id)} />\r\n            </DeleteTd>\r\n          </tr> \r\n        ))}\r\n      </tbody>\r\n    </StyledTable>\r\n  );\r\n};\r\n\r\nexport default EditableTable;","const initialState = {\r\n  tableData: {\r\n    columns: [],\r\n    data: [],\r\n  }\r\n};\r\n\r\nconst teaTableReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'INIT': {\r\n      return {\r\n        ...state,\r\n        tableData: {\r\n          ...action.payload,\r\n        },\r\n      };\r\n    }\r\n    case 'UPDATE_DATA': {\r\n      const { data } = action.payload;\r\n      const newTableData = state.tableData.data.filter(({ id }) => id !== data.id);\r\n      return {\r\n        ...state,\r\n        tableData: {\r\n          columns: state.tableData.columns,\r\n          data: [\r\n            ...newTableData,\r\n            data,\r\n          ],\r\n        },\r\n      };\r\n    }\r\n    case 'ADD_DATA': {\r\n      const { data } = action.payload;\r\n      let newDataId = Math.max(...state.tableData.data.map(({ id }) => id)) + 1;\r\n      if (!isFinite(newDataId)) {\r\n        newDataId = 0;\r\n      }\r\n      return {\r\n        ...state,\r\n        tableData: {\r\n          ...state.tableData,\r\n          data: [\r\n            ...state.tableData.data,\r\n            {\r\n              ...data,\r\n              id: newDataId,\r\n            },\r\n          ],\r\n        }\r\n      }\r\n    };\r\n    case 'DELETE_DATA': {\r\n      const { rowId } = action.payload;\r\n      const newTableData = state.tableData.data.filter(({ id }) => id !== rowId);\r\n      return {\r\n        ...state,\r\n        tableData: {\r\n          columns: state.tableData.columns,\r\n          data: [\r\n            ...newTableData,\r\n          ],\r\n        },\r\n      };\r\n    }\r\n    case 'UPDATE_LAST_WATER_AMOUNT': {\r\n      const { waterAmount, teaLeafId } = action.payload;\r\n      const targetTableData = state.tableData.data.find(({ id }) => id == teaLeafId);\r\n      const newTableData = state.tableData.data.filter(({ id }) => id != teaLeafId);\r\n      return {\r\n        ...state,\r\n        tableData: {\r\n          columns: state.tableData.columns,\r\n          data: [\r\n            ...newTableData,\r\n            {\r\n              ...targetTableData,\r\n              lastWaterAmount: waterAmount,\r\n            },\r\n          ],\r\n        },\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default teaTableReducer;","import styled from \"styled-components\";\r\n\r\nconst StyledSelect = styled.select`\r\n  border: 2px solid;\r\n`;\r\n\r\nconst TeaSelect = ({\r\n  teaList,\r\n  onChange,\r\n}) => {\r\n  return (\r\n    <StyledSelect onChange={onChange}>\r\n      {teaList.filter((row) => {\r\n        return row.leafName && row.leafAmount && row.waterAmount;\r\n      }).map((tea) => {\r\n        return <option key={tea.id} value={tea.id}>{tea.leafName}</option>\r\n      })}\r\n    </StyledSelect>\r\n  )\r\n};\r\n\r\nexport default TeaSelect;","import styled from \"styled-components\";\r\n\r\nconst Circle = styled.div`\r\n  width: 24px;\r\n  height: 24px;\r\n  border-radius: 100px;\r\n  border: 1px solid #a0a0a0;\r\n  :hover {\r\n    background: #ff3a00;\r\n    border: 1px solid #ff3a00;\r\n    div {\r\n      color: white;\r\n    }\r\n  }\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst Mark = styled.div`\r\n  font-size: 24px;\r\n`;\r\n\r\nconst AddButton = ({\r\n  ...remainProps\r\n}) => {\r\n  return (\r\n    <Circle {...remainProps}>\r\n      <Mark>＋</Mark>\r\n    </Circle>\r\n  )\r\n};\r\n\r\nexport default AddButton;","const LOCALSTORAGE_KEY = 'teaLeafSettings';\r\n\r\nexport const readFromLocalStorage = () => {\r\n  const data = localStorage.getItem(LOCALSTORAGE_KEY);\r\n  return JSON.parse(data);\r\n};\r\n\r\nexport const writeToLocalStorage = (data) => {\r\n  localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(data));\r\n};","import './App.css';\nimport Teapot from './components/Teapot';\nimport Slider from './components/Slider';\nimport { useState } from 'react';\nimport { createStore } from 'redux'\nimport styled from 'styled-components';\nimport EditableTable from './components/EditableTable';\nimport teaTableReducer from './reducers/teaTableReducer';\nimport { Provider, useDispatch, useSelector } from 'react-redux';\nimport { useEffect } from 'react';\nimport TeaSelect from './components/TeaSelect';\nimport AddButton from './components/AddButton';\nimport { readFromLocalStorage, writeToLocalStorage } from './utils/localStorageUtils';\n\nconst Root = styled.div`\n  margin: 8px 16px;\n`;\n\nconst TeapotWrapper = styled.div`\n  display: flex;\n  margin-top: 8px;\n`;\n\nconst TableWrapper = styled.div`\n  max-width: 580px;\n`;\n\nconst StyledAddButton = styled(AddButton)`\n  margin: 0 8px 4px auto;\n`;\n\nconst AmountWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst TeaLeafAmount = styled.div`\n  font-weight: bold;\n  font-size 36px;\n  margin-bottom: 8px;\n`;\n\nconst WaterAmount = styled.div`\n  font-weight: bold;\n  font-size 36px;\n  border-top: 4px solid black;\n`;\n\nconst App = () => {\n  const store = createStore(teaTableReducer);\n  return (\n    <Provider store={store}>\n      <Page />\n    </Provider>\n  );\n};\n\nconst Page = () => {\n  const max = 400;\n  const min = 0;\n  const [waterAmount, setWaterAmount] = useState(50);\n  const [teaLeafId, setTeaLeafId] = useState(null);\n  const [teaLeafAmount, setTeaLeafAmount] = useState(0);\n\n  const { tableData } = useSelector((state) => state);\n\n  const teaList = tableData.data.sort((a, b) => a.id - b.id);\n\n  const dispatch = useDispatch();\n\n  const calcTeaLeafAmount = () => {\n    const targetTeaLeaf = tableData.data.find(({ id }) => id == teaLeafId);\n    if (!targetTeaLeaf) {\n      return 0;\n    }\n    return (targetTeaLeaf.leafAmount / targetTeaLeaf.waterAmount) * waterAmount;\n  };\n\n  const addBlankRow = () => {\n    dispatch({\n      type: 'ADD_DATA',\n      payload: {\n        leafName: '',\n        leafAmount: 0,\n        waterAmount: 0,\n      }\n    });\n  };\n\n  const onDeleteRow = (rowId) => {\n    dispatch({\n      type: 'DELETE_DATA',\n      payload: {rowId},\n    });\n  };\n\n  useEffect(() => {\n    setTeaLeafAmount(calcTeaLeafAmount());\n  }, [waterAmount, teaLeafId, tableData]);\n\n  useEffect(() => {\n    if (teaList.length && !teaList.find(({id}) => id == teaLeafId)) {\n      setTeaLeafId(teaList[0].id);\n    } else {\n      if (!teaList.length)\n      setTeaLeafId(null);\n    }\n    if (tableData && tableData.data.length) {\n      writeToLocalStorage(tableData);\n    }\n  }, [tableData]);\n\n  useEffect(() => {\n    if (waterAmount && !isNaN(teaLeafId)) {\n      dispatch({\n        type: 'UPDATE_LAST_WATER_AMOUNT',\n        payload: { waterAmount, teaLeafId }\n      });\n    }\n  }, [waterAmount]);\n\n  useEffect(() => {\n    const target = tableData.data.find(({id}) => id == teaLeafId);\n    if (target && target.lastWaterAmount) {\n      setWaterAmount(target.lastWaterAmount);\n    }\n  }, [teaLeafId]);\n\n  useEffect(() => {\n    const data = readFromLocalStorage();\n    dispatch({\n      type: 'INIT',\n      payload: {\n        columns: [\n          { id: 'leafName', label: '茶葉', align: 'center' },\n          { id: 'leafAmount', label: '茶葉の量 [g]', align: 'right', type: 'number' },\n          { id: 'waterAmount', label: '水の量 [mL]', align: 'right', type: 'number' },\n        ],\n        data: data ? data.data : [],\n      },\n    })\n  }, []);\n\n  return (\n    <Root>\n      <TeaSelect teaList={teaList} onChange={(e) => setTeaLeafId(e.target.value)} />\n      <TeapotWrapper>\n        <Teapot max={max} amount={waterAmount} onClick={setWaterAmount} />\n        <Slider min={min} max={max} value={waterAmount} setValue={(v) => setWaterAmount(v)} />\n        <AmountWrapper>\n          <TeaLeafAmount>{isNaN(teaLeafAmount) || !teaLeafAmount ? ' - ' : Math.round(teaLeafAmount)}g</TeaLeafAmount>\n          <WaterAmount>{waterAmount}mL</WaterAmount>\n        </AmountWrapper>\n      </TeapotWrapper>\n      <TableWrapper>\n        <StyledAddButton onClick={addBlankRow}>a</StyledAddButton>\n        <EditableTable data={tableData} onDelete={onDeleteRow} />\n      </TableWrapper>\n    </Root>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}