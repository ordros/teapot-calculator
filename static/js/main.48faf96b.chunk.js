(this["webpackJsonpteapot-calculator"]=this["webpackJsonpteapot-calculator"]||[]).push([[0],{26:function(t,n,e){},27:function(t,n,e){},39:function(t,n,e){"use strict";e.r(n);var a,c,i,r,o,d,l,u,b,j,s,f,O,x,p,h,m,g,v,A,y,D,w,T,E=e(0),I=e.n(E),N=e(8),L=e.n(N),S=(e(26),e(11)),_=e(2),k=(e(27),e(3)),C=e(1),M=k.a.div(a||(a=Object(_.a)(["\n  display: flex;\n  align-items: center;\n"]))),P=k.a.div(c||(c=Object(_.a)(["\n  width: 100px;\n  height: 150px;\n  border-radius: 5px 5px 20px 20px;\n  border: 4px solid black;\n  display: flex;\n  align-items: flex-end;\n"]))),U=k.a.div(i||(i=Object(_.a)(["\n  width: 100%;\n  background: #70f1ff;\n  border-radius: 1px 1px 15px 15px;\n  height: ","%;\n  z-index: -1;\n"])),(function(t){return t.amount/t.max*100})),z=k.a.div(r||(r=Object(_.a)(["\n  height: 170px;\n  display: flex;\n  flex-direction: column;\n  align-items: end;\n  justify-content: space-between;\n"]))),F=k.a.div(o||(o=Object(_.a)(["\n  position: relative;\n  left: -9px;\n  font-weight: bold;\n"]))),W=function(t){var n=t.max,e=t.amount;return Object(C.jsxs)(M,{children:[Object(C.jsx)(P,{children:Object(C.jsx)(U,{max:parseInt(n),amount:parseInt(e)})}),Object(C.jsxs)(z,{children:[Object(C.jsxs)(F,{children:[" ",n||100]}),Object(C.jsxs)(F,{children:["- ",(n||100)/4*3]}),Object(C.jsxs)(F,{children:["- ",(n||100)/2]}),Object(C.jsxs)(F,{children:["- ",(n||100)/4*1]}),Object(C.jsx)(F,{children:" 0"})]})]})},J=k.a.div(d||(d=Object(_.a)(["\n  margin-left: 20px;\n  transform: rotate(-90deg);\n"]))),B=function(t){var n=t.min,e=void 0===n?0:n,a=t.max,c=void 0===a?100:a,i=t.step,r=void 0===i?10:i,o=t.value,d=t.setValue,l=void 0===d?function(){return null}:d;return Object(C.jsx)(J,{children:Object(C.jsx)("input",{type:"range",min:e,max:c||100,value:o,step:r,onChange:function(t){l(t.target.value)}})})},R=e(21),V=e(10),q=e(4),G=e(5),H=k.a.div(l||(l=Object(_.a)(["\n  width: 24px;\n  height: 24px;\n  border-radius: 100px;\n  :hover {\n    background: #ff0f0f;\n    div {\n      color: white;\n    }\n  }\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n"]))),K=k.a.div(u||(u=Object(_.a)(["\n  font-size: 20px;\n"]))),Q=function(t){var n=Object.assign({},t);return Object(C.jsx)(H,Object(q.a)(Object(q.a)({},n),{},{children:Object(C.jsx)(K,{children:"\ud83d\uddd1"})}))},X=k.a.table(b||(b=Object(_.a)(["\n  border-collapse: collapse;\n  border-spacing: 0;\n"]))),Y=k.a.th(j||(j=Object(_.a)(["\n  text-align: ",";\n  padding: 0 16px;\n"])),(function(t){return t.align||"start"})),Z=k.a.tr(s||(s=Object(_.a)(["\n  background: #a0a0a0;\n"]))),$=k.a.td(f||(f=Object(_.a)(["\n  border-bottom 1px solid #a0a0a0;\n  padding: 0 8px;\n"]))),tt=k.a.td(O||(O=Object(_.a)(["\n  border-bottom 1px solid #a0a0a0;\n  padding: 0 8px 0 16px;\n"]))),nt=k.a.input(x||(x=Object(_.a)(["\n  border: none;\n  text-align: ",";\n  width: 100%;\n"])),(function(t){return t.align||"start"})),et=function(t){var n=t.data,e=t.onDelete,a=Object(G.b)();return n&&n.columns?Object(C.jsxs)(X,{children:[Object(C.jsx)("thead",{children:Object(C.jsxs)(Z,{children:[n.columns.map((function(t){return Object(C.jsx)(Y,{align:t.align,children:t.label},t.id)})),Object(C.jsx)("th",{})]})}),Object(C.jsx)("tbody",{children:n.data.sort((function(t,n){return t.id-n.id})).map((function(t){return Object(C.jsxs)("tr",{children:[n.columns.map((function(e){return Object(C.jsx)($,{align:e.align,children:Object(C.jsx)(nt,{value:t[e.id],align:e.align,type:e.type||"text",min:1,onChange:function(c){return function(t){var e=t.rowId,c=t.columnId,i=t.value,r=n.data.find((function(t){return t.id===e}));a({type:"UPDATE_DATA",payload:{data:Object(q.a)(Object(q.a)({},r),{},Object(V.a)({id:e},c,i))}})}({rowId:t.id,columnId:e.id,value:c.target.value})}})},e.id)})),Object(C.jsx)(tt,{children:Object(C.jsx)(Q,{onClick:function(){return e(t.id)}})})]},t.id)}))})]}):null},at=e(6),ct={tableData:{columns:[],data:[]}},it=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"INIT":return Object(q.a)(Object(q.a)({},t),{},{tableData:Object(q.a)({},n.payload)});case"UPDATE_DATA":var e=n.payload.data,a=t.tableData.data.filter((function(t){return t.id!==e.id}));return Object(q.a)(Object(q.a)({},t),{},{tableData:{columns:t.tableData.columns,data:[].concat(Object(at.a)(a),[e])}});case"ADD_DATA":var c=n.payload.data,i=Math.max.apply(Math,Object(at.a)(t.tableData.data.map((function(t){return t.id}))))+1;return isFinite(i)||(i=0),Object(q.a)(Object(q.a)({},t),{},{tableData:Object(q.a)(Object(q.a)({},t.tableData),{},{data:[].concat(Object(at.a)(t.tableData.data),[Object(q.a)(Object(q.a)({},c),{},{id:i})])})});case"DELETE_DATA":var r=n.payload.rowId,o=t.tableData.data.filter((function(t){return t.id!==r}));return Object(q.a)(Object(q.a)({},t),{},{tableData:{columns:t.tableData.columns,data:Object(at.a)(o)}});case"UPDATE_LAST_WATER_AMOUNT":var d=n.payload,l=d.waterAmount,u=d.teaLeafId,b=t.tableData.data.find((function(t){return t.id==u})),j=t.tableData.data.filter((function(t){return t.id!=u}));return Object(q.a)(Object(q.a)({},t),{},{tableData:{columns:t.tableData.columns,data:[].concat(Object(at.a)(j),[Object(q.a)(Object(q.a)({},b),{},{lastWaterAmount:l})])}});default:return t}},rt=k.a.select(p||(p=Object(_.a)(["\n  border: 2px solid;\n"]))),ot=function(t){var n=t.teaList,e=t.onChange;return Object(C.jsx)(rt,{onChange:e,children:n.filter((function(t){return t.leafName&&t.leafAmount&&t.waterAmount})).map((function(t){return Object(C.jsx)("option",{value:t.id,children:t.leafName},t.id)}))})},dt=k.a.div(h||(h=Object(_.a)(["\n  width: 24px;\n  height: 24px;\n  border-radius: 100px;\n  border: 1px solid #a0a0a0;\n  :hover {\n    background: #ff3a00;\n    border: 1px solid #ff3a00;\n    div {\n      color: white;\n    }\n  }\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),lt=k.a.div(m||(m=Object(_.a)(["\n  font-size: 24px;\n"]))),ut=function(t){var n=Object.assign({},t);return Object(C.jsx)(dt,Object(q.a)(Object(q.a)({},n),{},{children:Object(C.jsx)(lt,{children:"\uff0b"})}))},bt="teaLeafSettings",jt=k.a.div(g||(g=Object(_.a)(["\n  margin: 8px 16px;\n"]))),st=k.a.div(v||(v=Object(_.a)(["\n  display: flex;\n"]))),ft=k.a.div(A||(A=Object(_.a)(["\n  max-width: 580px;\n"]))),Ot=Object(k.a)(ut)(y||(y=Object(_.a)(["\n  margin: 0 8px 4px auto;\n"]))),xt=k.a.div(D||(D=Object(_.a)(["\n  position: absolute;\n  left: 240px;\n  top: 50px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),pt=k.a.div(w||(w=Object(_.a)(["\n  font-weight: bold;\n  font-size 36px;\n  margin-bottom: 8px;\n"]))),ht=k.a.div(T||(T=Object(_.a)(["\n  font-weight: bold;\n  font-size 36px;\n  border-top: 4px solid black;\n"]))),mt=function(){var t=Object(E.useState)(50),n=Object(S.a)(t,2),e=n[0],a=n[1],c=Object(E.useState)(null),i=Object(S.a)(c,2),r=i[0],o=i[1],d=Object(E.useState)(0),l=Object(S.a)(d,2),u=l[0],b=l[1],j=Object(G.c)((function(t){return t})).tableData,s=j.data.sort((function(t,n){return t.id-n.id})),f=Object(G.b)();return Object(E.useEffect)((function(){b(function(){var t=j.data.find((function(t){return t.id==r}));return t?t.leafAmount/t.waterAmount*e:0}())}),[e,r,j]),Object(E.useEffect)((function(){var t;s.length&&!s.find((function(t){return t.id==r}))?o(s[0].id):s.length||o(null),j&&j.data.length&&(t=j,localStorage.setItem(bt,JSON.stringify(t)))}),[j]),Object(E.useEffect)((function(){e&&!isNaN(r)&&f({type:"UPDATE_LAST_WATER_AMOUNT",payload:{waterAmount:e,teaLeafId:r}})}),[e]),Object(E.useEffect)((function(){var t=j.data.find((function(t){return t.id==r}));t&&t.lastWaterAmount&&a(t.lastWaterAmount)}),[r]),Object(E.useEffect)((function(){var t=function(){var t=localStorage.getItem(bt);return JSON.parse(t)}();f({type:"INIT",payload:{columns:[{id:"leafName",label:"\u8336\u8449",align:"center"},{id:"leafAmount",label:"\u8336\u8449\u306e\u91cf [g]",align:"right",type:"number"},{id:"waterAmount",label:"\u6c34\u306e\u91cf [mL]",align:"right",type:"number"}],data:t?t.data:[]}})}),[]),Object(C.jsxs)(jt,{children:[Object(C.jsx)(ot,{teaList:s,onChange:function(t){return o(t.target.value)}}),Object(C.jsxs)(st,{children:[Object(C.jsx)(W,{max:400,amount:e}),Object(C.jsx)(B,{min:0,max:400,value:e,setValue:function(t){return a(t)}}),Object(C.jsxs)(xt,{children:[Object(C.jsxs)(pt,{children:[isNaN(u)||!u?" - ":Math.round(u),"g"]}),Object(C.jsxs)(ht,{children:[e,"mL"]})]})]}),Object(C.jsxs)(ft,{children:[Object(C.jsx)(Ot,{onClick:function(){f({type:"ADD_DATA",payload:{leafName:"",leafAmount:0,waterAmount:0}})},children:"a"}),Object(C.jsx)(et,{data:j,onDelete:function(t){f({type:"DELETE_DATA",payload:{rowId:t}})}})]})]})},gt=function(){var t=Object(R.a)(it);return Object(C.jsx)(G.a,{store:t,children:Object(C.jsx)(mt,{})})},vt=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,40)).then((function(n){var e=n.getCLS,a=n.getFID,c=n.getFCP,i=n.getLCP,r=n.getTTFB;e(t),a(t),c(t),i(t),r(t)}))};L.a.render(Object(C.jsx)(I.a.StrictMode,{children:Object(C.jsx)(gt,{})}),document.getElementById("root")),vt()}},[[39,1,2]]]);
//# sourceMappingURL=main.48faf96b.chunk.js.map